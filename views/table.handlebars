{{#section 'style'}}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs-3.3.7/jq-2.2.4/jszip-3.1.3/pdfmake-0.1.27/dt-1.10.15/af-2.2.0/b-1.3.1/b-colvis-1.3.1/b-flash-1.3.1/b-html5-1.3.1/b-print-1.3.1/cr-1.3.3/fc-3.2.2/fh-3.1.2/kt-2.2.1/r-2.1.1/rg-1.0.0/rr-1.2.0/sc-1.4.2/se-1.2.2/datatables.min.css"/>
<link rel="stylesheet" type="text/css" href="/assets/editor/css/editor.dataTables.css">
{{/section}}
<div class="row">
    <div class="col-md-12">
<table id="petsDash" class="display table table-hover table-striped" cellspacing="0" width="100%">
		<thead>
				<tr>
                    <th>Selected</th>
					<th>First Name</th>
                    <th>Last Name</th>
                    <th>Sex</th>
                    <th>Edit / Delete</th>
				</tr>
		</thead>
	</table>
    </div>
</div>
{{#section 'script'}}
<script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-2.2.4/jszip-3.1.3/pdfmake-0.1.27/dt-1.10.15/af-2.2.0/b-1.3.1/b-colvis-1.3.1/b-flash-1.3.1/b-html5-1.3.1/b-print-1.3.1/cr-1.3.3/fc-3.2.2/fh-3.1.2/kt-2.2.1/r-2.1.1/rg-1.0.0/rr-1.2.0/sc-1.4.2/se-1.2.2/datatables.min.js"></script>
<script type="text/javascript" src="/assets/editor/js/dataTables.editor.js"></script>
<script>
   

$(document).ready(function() {
    
     // Edit record
    $('#petsDash').on('click', 'a.editor_edit', function (e) {
        e.preventDefault();
 
        editor.edit( $(this).closest('tr'), {
            title: 'Edit record',
            buttons: 'Update'
        } );
    } );
 
    // Delete a record
    $('#petsDash').on('click', 'a.editor_remove', function (e) {
        e.preventDefault();
 
        editor.remove( $(this).closest('tr'), {
            title: 'Delete record',
            message: 'Are you sure you wish to remove this record?',
            buttons: 'Delete'
        } );
    } );
    

    var editor = new $.fn.dataTable.Editor( {} );

    editor = new $.fn.dataTable.Editor( {
        ajax:  '/api/pet',
        table: '#petsDash',
        idSrc:'id',
        fields: [
            { label: 'First Name', name: 'pet_name'},
            { label: 'Last Name',  name: 'pet_breed' },
            { label: 'Sex',  name: 'pet_dob'  }
            // etc
        ]
    } );

$('#petsDash').on( 'click', 'tbody td:not(:first-child)', function (e) {
        editor.bubble( this );
    } );

    var table = $('#petsDash').DataTable( {
        ajax: '/api/pet',
        dom: 'Bfrtip',
        columns: [
            {
                data: null,
                defaultContent: '',
                className: 'select-checkbox',
                orderable: false,
                "width": "5%"
            },
            { data: 'pet_name' },
            { data: 'pet_breed' },
            { data: 'pet_dob' },
            {
                data: null,
                className: "center",
                defaultContent: '<a href="" class="editor_edit">Edit</a> / <a href="" class="editor_remove">Delete</a>'
            }
            // etc
        ],
        select: true,
        select: {
            style:    'multi',
            selector: 'td:first-child'
        },
        buttons: [
            { extend: 'create', editor: editor },
            { extend: 'edit',   editor: editor },
            { extend: 'remove', editor: editor },
            {
                text: 'Select All',
                action: function () {
                table.rows( {search:'applied'} ).select();
                }
            },
            'selectNone'
        ]
    } );
} );

</script>
{{/section}}